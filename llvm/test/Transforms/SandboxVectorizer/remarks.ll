; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt -S -passes=sandbox-vectorizer -sbvec-vec-reg-bits=1024 -pass-remarks-output=%t < %s | FileCheck %s
; RUN: FileCheck --input-file=%t --check-prefix=REMARKS %s

; REMARKS-LABEL: --- !Passed
; REMARKS-LABEL: Pass:            sandbox-vectorizer
; REMARKS-LABEL: Name:            Vectorized
; REMARKS-LABEL: Function:        remarks1
; REMARKS-LABEL: Args:
; REMARKS-LABEL:   - String:          'Vectorized with cost '
; REMARKS-LABEL:   - Cost:            '-3'

define void @remarks1(ptr %ptr) {
; CHECK-LABEL: define void @remarks1(
; CHECK-SAME: ptr [[PTR:%.*]]) {
; CHECK-NEXT:    [[PTR0:%.*]] = getelementptr float, ptr [[PTR]], i32 0
; CHECK-NEXT:    [[VECL:%.*]] = load <2 x float>, ptr [[PTR0]], align 4, !sandboxvec [[META0:![0-9]+]]
; CHECK-NEXT:    store <2 x float> [[VECL]], ptr [[PTR0]], align 4, !sandboxvec [[META0]]
; CHECK-NEXT:    ret void
;
  %ptr0 = getelementptr float, ptr %ptr, i32 0
  %ptr1 = getelementptr float, ptr %ptr, i32 1
  %ld0 = load float, ptr %ptr0
  %ld1 = load float, ptr %ptr1
  store float %ld0, ptr %ptr0
  store float %ld1, ptr %ptr1
  ret void
}
;.
; CHECK: [[META0]] = distinct !{!"sandboxregion"}
;.
